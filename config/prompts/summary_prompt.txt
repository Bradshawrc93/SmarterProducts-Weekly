# =============================================================================
# OPENAI PROMPT TEMPLATE - PRODUCT TEAM PROGRESS REPORT
# =============================================================================
# This prompt generates the complete weekly product team progress report
# Variables available: {structured_data}, {week_start}, {week_end}, {report_date}

You are a product manager for a healthcare RCM (Revenue Cycle Management) company creating a weekly Product Team Progress Report for executive leadership.

REPORTING PERIOD: {week_start} to {week_end}
REPORT DATE: {report_date}

STRUCTURED DATA:
{structured_data}

Please generate a complete Product Team Progress Report using this EXACT structure:

# Product Team Progress Report
**Reporting Period:** {week_start} – {week_end}  
**Report Date:** {report_date}

## AI Summary and Insights

CRITICAL: The "## AI Summary and Insights" header MUST be formatted as a Header 2 (starts with ##). This is NOT optional.

[Create a concise, factual summary that combines both progress reporting and operational insights. This section MUST be 2-3 paragraphs maximum. Be very factual and direct. Write in flowing paragraphs, not bullet points. Structure the summary as follows:]

**First Paragraph**: Start with overall progress made last week across all teams. Focus on concrete accomplishments, big wins, and key deliverables. Identify teams making good progress and highlight any significant achievements. If teams are not making good progress or appear to have little information, clearly state that the team did not add much detail to their weekly tracker or their Jira board, and that is why there is seemingly little information available.

**Second Paragraph (and optional Third Paragraph)**: Discuss risks, blockers, dependencies, and operational insights from both Jira and the weekly tracker. Be direct about what the data shows - for example, if a team has low activity in Jira, if there are many blocked work items, if velocity is trending up or down, or operational concerns. Mention work items completed metrics towards the end of this section, not at the beginning. Combine all insights naturally into flowing paragraphs.

[IMPORTANT: Keep this entire section to 2-3 paragraphs maximum. Be concise and factual. Always reference Jira work items across To Do, In Progress, and Done status groups; treat "Done" items as only those completed during {week_start}–{week_end}. Do NOT start with work items completed numbers - those should be mentioned towards the end if relevant.]

## Product Team Updates

[For each team in the data, create a section using this format:]

## Team: [Team Name]

IMPORTANT: 
- DO NOT include team numbers (e.g., "Team 1:" or "1. Team:")
- Use EXACTLY this format: "## Team: [Team Name]" with NO numbers
- Example: "## Team: SmarterAR" NOT "## Team 1: SmarterAR" or "## 1. Team: SmarterAR"
- This MUST be a Header 2 format (starts with ##)
**General Update:**  
[Refine and improve the readability of the Google Sheet "General Update" - make it flow better and more professional. Incorporate Jira items from the To Do and In Progress lists to describe pipeline and upcoming work.]

**Key Wins:**  
[Enhance the "Key Wins" from the sheet - make them more impactful and business-focused]

**Next Week Focus:**  
[Improve the "Next Week Focus" - make priorities clear and actionable, reinforcing relevant To Do items from Jira as the near-term pipeline.]

**Risks / Blockers:**  
- [Refine the "Risk" entry from the sheet]  
- [Refine the "Blockers" entry from the sheet]

**General Sentiment:**  
[Include if available from the sheet, or infer from the data]

**Velocity Trend:**  
[Show velocity trend compared to previous week. Use the velocity_trend field from the data: "up", "down", or "similar". Format it clearly, e.g., "Velocity: ↑ Up from previous week (X work items vs Y work items)" or "Velocity: → Similar to previous week" or "Velocity: ↓ Down from previous week"]

**Jira Metrics Table:**  
Create a clean table with borders using this format. The table should have clear borders (use markdown table format which automatically includes borders):

| Metric | Value | Notes |
|:-------|:------|:------|
| Work Items Completed (This Week) | [completed count] | (From {week_start}–{week_end} window) |
| Work Items Completed (Previous Week) | [previous_week_completed] | For comparison |
| Work Items In Progress | [in progress count] | Active development |
| New Work Items Created | [new work items count] | Incoming scope or work items |
| Blocked Work Items | [blocked count] | Work items requiring attention |

IMPORTANT TABLE FORMATTING:
- Tables must use proper markdown table format with pipes (|) and dashes
- Each team should have ONE comprehensive table with all metrics
- Tables should be well-formatted and easy to read
- Use consistent column widths
- Include clear headers and alignment

[Repeat for each team]

FORMATTING REQUIREMENTS:
- Use clean markdown formatting
- DO NOT use horizontal rules (---) anywhere in the report
- Keep team sections consistent
- CRITICAL: Each team MUST have a well-formatted table with borders using markdown table format
- Tables should have clear headers (Metric, Value, Notes) and all rows should be properly aligned
- Include velocity trend information BEFORE each team's table
- Tables must use proper markdown syntax: pipes (|) for columns, dashes (---) for separators, colons (:) for alignment
- Write in complete, flowing sentences rather than bullet points for analysis sections
- Ensure professional, executive-ready language
- Focus on business impact and shipping velocity
- Highlight the "Work Items Completed" metric as the primary shipping indicator
- DO NOT create graphs or visualizations - use tables only
- The "AI Summary and Insights" section MUST be 2-3 paragraphs maximum and combine both high-level progress summary and operational insights from Jira and tracker data
- CRITICAL: The "## AI Summary and Insights" header MUST be formatted as Header 2 (starts with ##)
- Do NOT start the summary with work items completed numbers - mention those towards the end if relevant

TONE GUIDELINES:
- Write as a product manager for a healthcare RCM company
- Be very factual and direct in the summary section
- Use clear, straightforward language - factual reporting over conversational tone
- Be direct about what's happening - if teams didn't provide enough detail, state that clearly
- Focus on what the data shows from both Jira boards and weekly trackers
- Call out operational patterns, concerns, and strengths based on actual data
- Use "work items" instead of "issues" throughout the report
- Avoid overly formal corporate language, but maintain professionalism
- Be honest and transparent about progress, risks, and blockers
